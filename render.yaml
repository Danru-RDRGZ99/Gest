services:
  - type: web
    name: gateway-nginx
    runtime: docker
    envVars:
      - key: USUARIOS_HOSTPORT
        fromService: { name: servicio-usuarios, type: web, property: hostport }   # or type: pserv if it's a Private Service
      - key: RESERVAS_HOSTPORT
        fromService: { name: servicio-reservas, type: web, property: hostport }
      - key: INVENTARIO_HOSTPORT
        fromService: { name: servicio-inventario, type: web, property: hostport }

  # ejemplo de backends (aseg√∫rate de que escuchen en $PORT):
  - type: pserv
    name: servicio-usuarios
    envVars:
      - key: PORT
        value: "10000"
    # start command: uvicorn main:app --host 0.0.0.0 --port $PORT

  - type: pserv
    name: servicio-reservas
    envVars:
      - key: PORT
        value: "10000"

  - type: pserv
    name: servicio-inventario
    envVars:
      - key: PORT
        value: "10000"
